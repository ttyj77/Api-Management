<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:sec="http://www.w3.org/1999/xhtml"
      layout:decorate="~{/layout/layout}">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Tables</title>
    <th:block layout:fragment="css">
        <link href="/images/logo_img.png" rel="shortcut icon" type="image/x-icon">

        <link
                href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
                rel="stylesheet">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">


        <!-- Custom styles for this template -->
        <link href="/css/sb-admin-2.min.css" rel="stylesheet">

        <!-- Custom styles for this page -->
        <link href="/vendor/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">


        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
              crossorigin="anonymous">

        <link href="/css/apiDetails.css" rel="stylesheet"/>
        <style>
            .resourceTable {

                width: 20%;
                font-weight: bold;
                /*background-color: #7fffd452;*/
            }

            .selectBox {
                position: relative;
            }

            .selectBox select {
                width: 100%;
                font-weight: bold;
                border-radius: 6px;
                height: 37px;
            }

            .overSelect {
                position: absolute;
                left: 0;
                right: 0;
                top: 0;
                bottom: 0;
            }

            .checkboxes {
                display: none;
                border: 1px #dadada solid;
            }

            .checkboxes label {
                display: block;
            }

            .checkboxes label:hover {
                /*background-color: #1e90ff;*/
            }


            .authorizationSelectBox {
                display: none;
                border: 1px #dadada solid;
            }

            .authorizationSelectBox label {
                display: block;
            }

            .authorizationSelectBox label:hover {
                /*background-color: #1e90ff;*/
            }

            .tdContent:hover {
                background-color: #f5f6fb;
            }

            .tdHead {
                background-color: #f5f5f5 !important;
                width: 30% !important;

            }

            .table td {
                padding: 0.75rem !important;
            }

            .trContent {
                vertical-align: middle;
            !important;
            }

            .borderTop {
                border-top: 1px solid #dee2e6 !important;
            }

            .modal-body {
                max-height: calc(100vh - 200px);
                overflow-y: auto;
            }

        </style>
    </th:block>

    <!-- index.html 고유 스크립트 추가 -->
    <th:block layout:fragment="script">
        <script src="https://kit.fontawesome.com/24311b556d.js" crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
                integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
                crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
                integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
                crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
                integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
                crossorigin="anonymous"></script>
        <script src="/js/sb-admin-2.min.js"></script>
        <script src="/js/details.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            function methodSwitch(value) {
                console.log(value)
                let method = value.innerText.toLowerCase()
                console.log(method)
                let visible = document.getElementById(method)
                let content = document.getElementById(method + "-tab")

                if (visible.style.display == "none") {
                    visible.style.display = "block"
                    document.getElementById(content.id).click()
                    document.getElementById(document.getElementById(content.id).getAttribute("href").substring(1)).className = "tab-pane fade active show"

                } else if (visible.style.display == "block") {
                    let methodLength = document.getElementById("myTab").children.length
                    for (let i = 0; i < methodLength; i++) {
                        visible.style.display = "none"
                        if (document.getElementById("myTab").children[i].style.display == "block") {
                            document.getElementById("myTab").children[i].children[0].click();
                            break;
                        } else {
                            document.getElementById(document.getElementById("myTab").children[i].children[0].getAttribute("href").substring(1)).className = "tab-pane fade";
                        }
                    }
                }
            }

            var expanded = false;


            function showSecondSelectBox() {
                var checkboxes = document.querySelector(".authorizationSelectBox");
                if (!expanded) {
                    checkboxes.style.display = "block";
                    expanded = true;
                } else {
                    checkboxes.style.display = "none";
                    expanded = false;
                }
            }

            function goTrash(details) {
                let id = details.getAttribute("detailid");
                let name = details.getAttribute("detailname");
                Swal.fire({
                    showCancelButton: true,
                    cancelButtonText: "취소",
                    confirmButtonText: "삭제",
                    icon: 'warning',
                    text: "\'" + name + "\' 메소드를 삭제하시겠습니까?"
                }).then((result) => {
                    if (result.isConfirmed) {
                        Swal.fire({
                            title: '삭제 성공', icon: 'success'
                        }).then(() => {
                            location.href = "/api/goTrash/" + id;
                        });
                    }
                });
            }

            function goTrashResource(resource) {
                let id = resource.getAttribute("resourceid");
                Swal.fire({
                    showCancelButton: true,
                    cancelButtonText: "취소",
                    confirmButtonText: "삭제",
                    icon: 'warning',
                    text: "리소스를 삭제하시겠습니까?"
                }).then((result) => {
                    if (result.isConfirmed) {
                        Swal.fire({
                            title: '삭제 성공', icon: 'success'
                        }).then(() => {
                            location.href = "/api/goTrashResource/" + id;
                        });
                    }
                });
            }

            function insertResource() {
                const searchParams = new URLSearchParams(location.search);

                let method = ['get', 'post', 'put', 'delete']
                let jsonArr = new Array();
                for (let i = 0; i < 4; i++) {
                    let paramArr = new Array();
                    let resCodeArr = new Array();
                    let param = new Object();

                    //insertOperationId
                    let obj = new Object();

                    let operationId = document.getElementById(method[i] + "OperationId")
                    let summary = document.getElementById(method[i] + "Summary");
                    let tag = document.getElementById(method[i] + "TagBox")

                    let reqData = document.getElementById(method[i] + "ReqData")

                    // tab display 확인 none이면 값 있어도 등록 안함
                    let display = document.getElementById(method[i]).style.display

                    // 파리미터 tr
                    let param_tr = $('#' + method[i] + "ParameterItemBody tr");

                    // 응답코드 tr
                    let resCode_tr = $('#' + method[i] + "ResCodeItemBody tr");

                    if (operationId.value != "" && display == "block") {

                        console.log(operationId.value)
                        obj.operation = operationId.value;
                        obj.summary = summary.value
                        console.log("==============================Tag value ==========================")

                        console.log(tag == null)
                        if (tag != null) { // 태그가 있다면,
                            obj.tag = tag.value.toString()
                        } else {
                            obj.tag = ""
                        }

                        if (method[i] == "post" || method[i] == "put") {
                            obj.reqData = reqData.value;
                        }

                        // 파라미터 추가 시 tr 추출
                        $.each(param_tr, function (index, value) {
                            param = new Object();
                            let tdList = $(value)
                            param.name = tdList.children().eq(1).text();
                            param.transferMethod = tdList.children().eq(2).text()
                            param.explanation = tdList.children().eq(3).text()
                            param.required = tdList.children().eq(4).text()
                            param.type = tdList.children().eq(5).text()
                            param.sample = tdList.children().eq(6).text()
                            paramArr.push(param)
                        });
                        obj.param = paramArr

                        // 파라미터 추가 시 tr 추출
                        $.each(resCode_tr, function (index, value) {
                            param = new Object();
                            let tdList = $(value)
                            console.log("8888888888888888888888888888")
                            console.log(tdList.children())
                            param.code = tdList.children().eq(1).text()
                            param.explanation = tdList.children().eq(2).text()
                            param.type = tdList.children().eq(3).text()
                            param.paramKey = tdList.children().eq(5).text()
                            param.paramValue = tdList.children().eq(6).text()
                            param.paramType = tdList.children().eq(7).text()

                            // 여기서 리스트 하나더 돌리자. resCode parameter list
                            resCodeArr.push(param)
                        });
                        obj.resCode = resCodeArr
                    }
                    jsonArr.push(obj)
                }
                // console.log(document.getElementById("searchPathTbody").children[0])
                // [요청 json 데이터 선언]
                let jsonData = { // Body에 첨부할 json 데이터
                    "idx": document.getElementById("apiId").value, //api index
                    "uriId": document.getElementById("pathid").value,
                    "resourceId": document.getElementById("resourceId").value,
                    "url": document.getElementById("url").value,
                    "path": document.getElementById("path").value,
                    "get": JSON.stringify(jsonArr[0]),
                    "post": JSON.stringify(jsonArr[1]),
                    "put": JSON.stringify(jsonArr[2]),
                    "delete": JSON.stringify(jsonArr[3]),
                }


                $.ajax({
                    url: "/api/resource/insert",
                    data: JSON.stringify(jsonData), //전송 데이터
                    dataType: "json",
                    method: "post",
                    traditional: true, //필수
                    async: true, //비동기 여부
                    timeout: 5000, //타임 아웃 설정
                    dataType: "JSON", //응답받을 데이터 타입 (XML,JSON,TEXT,HTML,JSONP)
                    contentType: "application/json; charset=utf-8", //헤더의 Content-Type을 설정

                    success: (message) => {
                        console.log(message)
                    }
                })

                // 추가 버튼 누르면 모달안의 input value 삭제
                let get_input = $("#resourceModal input[type=text]");

                $.each(get_input, function (index, value) {
                    $(value).val('')
                });
                // path 검색 모달의 내용지우기
                document.getElementById("pathSearchBar").value = '';
                // path 검색 결과 지우기
                document.getElementById("searchPathTbody").innerHTML = ""
                showAllMethod();
                // }
            }


            // 파라미터 추가 모달의 추가 버튼
            function insertParameter(value) {
                let method = value.parentNode.id.split("-")[0]
                let tbody = document.getElementById(method + "ParameterItemBody")

                let name_val = document.getElementById("parameter-name").value
                let explanation_val = document.getElementById("explanation").value

                if (name_val == "") {
                    document.getElementById("parameter-name").parentNode.children[0].style.color = "#1d61ff";

                    document.getElementById("parameter-name").focus()
                } else if (explanation_val == "") {
                    document.getElementById("explanation").parentNode.children[0].style.color = "#1d61ff";
                    document.getElementById("explanation").focus()

                } else {
                    let tr = document.createElement("tr")
                    let th = document.createElement("th")
                    let name = document.createElement("td");

                    name.className = "name"
                    let transferMethod = document.createElement("td");
                    transferMethod.className = "transferMethod"
                    let explanation = document.createElement("td");
                    explanation.className = "explanation";
                    let required = document.createElement("td");
                    required.className = "required"
                    let type = document.createElement("td");
                    type.className = "type"
                    let sample = document.createElement("td");
                    sample.className = "sample"
                    let delUpdate = document.createElement("td");
                    delUpdate.className = "delUpdate"

                    th.scope = "row";
                    th.innerText = "1"

                    name.innerText = document.getElementById("parameter-name").value;

                    transferMethod.innerText = document.getElementById("transferMethod").value;

                    explanation.innerText = document.getElementById("explanation").value;

                    required.innerText = document.getElementById("required").value;

                    type.innerText = document.getElementById("type").value;

                    sample.innerText = document.getElementById("sample").value;
                    delUpdate.innerHTML = "<i class=\"fa-solid fa-pen mr-2\" style=\"color: #797a7c;\"></i><i class=\"fa-solid fa-trash-can\" style=\"color: #797a7c; cursor: pointer\"/>"

                    tr.append(th, name, transferMethod, explanation, required, type, sample, delUpdate)
                    tbody.append(tr)

                    $("#insertParameterModal").modal('hide')
                    $("#resourceModal").modal('show')


                    // 추가 버튼 누르면 모달안의 input value 삭제
                    let get_input = $("#insertParameterModal input[type=text]");
                    $.each(get_input, function (index, value) {
                        $(value).val('')
                    });

                }

            }

            // 응답코드 추가 모달의 추가 버튼
            function insertResCode(value) {
                let method = value.parentNode.id.split("-")[0]
                let tbody = document.getElementById(method + "ResCodeItemBody")
                let code_val = document.getElementById("code-name").value
                let explanation_val = document.getElementById("code-explanation").value

                if (code_val == "") {
                    document.getElementById("code-name").parentNode.children[0].style.color = "#1d61ff";
                    document.getElementById("code-name").focus()
                } else if (explanation_val == "") {
                    document.getElementById("code-explanation").parentNode.children[0].style.color = "#1d61ff";
                    document.getElementById("code-explanation").focus()

                } else {
                    let tr = document.createElement("tr")
                    let th = document.createElement("th")

                    let code = document.createElement("td");
                    code.className = "code"
                    let explanation = document.createElement("td");
                    explanation.className = "explanation";
                    let type = document.createElement("td");
                    type.className = "type"
                    let delUpdate = document.createElement("td");
                    delUpdate.className = "delUpdate"

                    //여기서 응답 파라미터 추가해야됨
                    console.log("////////////////////////////////resParameter")
                    //그냥 하낟 추가하면 안되고
                    let resCodeParam_tr = $("#appendJsonResCode tr");
                    let cnt = $("#appendJsonResCode tr").length // 해당 응답코드의 파라미터 갯수

                    let param;

                    let key = [];
                    let paramValue = [];
                    let paramType = [];

                    $.each(resCodeParam_tr, function (index, value) {
                        param = new Object();
                        let tdList = $(value)
                        console.log(tdList.children())
                        key.push(tdList.children().eq(1).text())
                        paramValue.push(tdList.children().eq(2).text())
                        paramType.push(tdList.children().eq(3).text())
                    });

                    console.log("9999999999999999999999999")

                    // let value = resCodeArr.toString()

                    let resParamKey = document.createElement("td");
                    resParamKey.innerText = key.toString()
                    resParamKey.style.display = "none"
                    resParamKey.id = "resParamKey"

                    //
                    let resParamValue = document.createElement("td");
                    resParamValue.innerText = paramValue.toString()
                    resParamValue.style.display = "none"
                    resParamValue.id = "resParamValue"

                    let resParamType = document.createElement("td");
                    resParamType.innerText = paramType.toString()
                    resParamType.style.display = "none"
                    resParamType.id = "resParamType"


                    //
                    // let resParamType = document.createElement("td");
                    // resParamType.innerText = document.getElementById("resParamType").innerText
                    // resParamType.style.display = "none"
                    // resParamType.id = "resParamType"


                    th.scope = "row";
                    th.innerText = "1"

                    code.innerText = document.getElementById("code-name").value;

                    explanation.innerText = document.getElementById("code-explanation").value;

                    type.innerText = document.getElementById("contentType").value;

                    delUpdate.innerHTML = "<i class=\"fa-solid fa-pen mr-2\" style=\"color: #797a7c;\"></i><i class=\"fa-solid fa-trash-can\" style=\"color: #797a7c; cursor: pointer\"/>"

                    tr.append(th, code, explanation, type, delUpdate, resParamKey, resParamValue, resParamType)

                    tbody.append(tr)

                    $("#insertResCodeModal").modal('hide')
                    $("#resourceModal").modal('show')

                    // 추가 버튼 누르면 모달안의 input value 삭제
                    let get_input = $("#insertResCodeModal input[type=text]");
                    $.each(get_input, function (index, value) {
                        $(value).val('')
                    });

                }
            }

            // 파라미터 추가 버튼 클릭시 이동
            function paramModalShow(value) {
                let btn = document.getElementsByClassName("modal-footer param")[0]

                btn.id = value.id.split("-")[0] + "-param"
                // btn.id =
                $("#insertParameterModal").modal('show')
            }

            // 응답코드 추가 버튼 클릭시 이동
            function resCodeModalShow(value) {
                let btn = document.getElementsByClassName("modal-footer code")[0]
                btn.id = value.id.split("-")[0] + "-resCode"
                // btn.id =
                $("#insertResCodeModal").modal('show')
            }


            window.onload = function () {
                let cnt = document.querySelectorAll(".tbody").length;
                let tbody = document.querySelectorAll(".tbody");
                for (let i = 0; i < cnt; i++) {
                    let tr = document.createElement("tr");
                    let td = document.createElement("td");
                    td.innerText = "데이터가 존재하지 않습니다.";
                    td.colSpan = 8;
                    tr.append(td);
                    if (tbody[i].childElementCount == 0) {
                        tbody[i].append(tr);
                    }
                }
            }

            //     url 실시간 검색
            function searchPath(value) {
                let keyword = value.value
                let apisId = document.getElementById("apiId").value
                if (keyword.charAt(0) == "/") {
                    console.log("첫글자 슬래시")
                    keyword = keyword.slice(1)
                }


                let data = {
                    "keyword": keyword,
                    "apisId": apisId,
                };
                $.ajax({
                    url: "/api/search/path",
                    type: "get",
                    data: data,

                    success: (message) => {
                        let array = JSON.parse(message.responseText);
                        let tbody = document.getElementById("searchPathTbody")
                        tbody.innerHTML = ""
                        if (array.length == 0) {
                            // DB에 없는 경우
                            // 해당 글자를 그대로 받고 + 새로 등록하시겠습니까?

                            let defaultUri = document.getElementById("path").name
                            let newUri = keyword
                            let h5 = document.createElement("h5")
                            h5.innerText = newUri
                            let tr = document.createElement("tr")
                            let td = document.createElement("td")
                            td.colSpan = 4
                            let newFullPath = defaultUri + '/' + h5.innerText
                            td.innerText = newFullPath + ' 을 새로 등록하시겠습니까?'

                            tr.onclick = function () {
                                newInsertPath(newFullPath);
                            }
                            // 신규라는 의미이다.
                            tr.id = "0"


                            tr.append(td)
                            tbody.append(tr)

                        } else {

                            let arr = []
                            for (let i = 0; i < array.length; i++) {
                                arr[i] = array[i].uri
                            }

                            let result1 = [...new Set(arr)];

                            // console.log(result1); //중복 제거됨
                            let mt = []
                            for (let i = 0; i < result1.length; i++) {
                                let tr = document.createElement("tr")
                                let id = document.createElement("td");
                                let path = document.createElement("td");

                                let possibleMethod = document.createElement("td");

                                let impossibleMethod = document.createElement("td");
                                impossibleMethod.id = 'impossibleMethod'
                                path.innerText = result1[i]


                                tr.id = array[i].id
                                tr.name = array[i].resourceId
                                mt.splice(0, mt.length);
                                let k = 0;
                                for (let j = 0; j < array.length; j++) {
                                    if (result1[i] == array[j].uri) {
                                        mt[k] = array[j].method
                                        // method.innerHTML = array[j].method;
                                        k++
                                    }
                                    impossibleMethod.innerHTML = mt;
                                }

                                mt = mt.sort();

                                let http = ["GET", "POST", "PUT", "DELETE"]

                                http = http.sort();

                                let http2 = ["GET", "POST", "PUT", "DELETE"]

                                http2 = http2.sort();
                                // console.log(http.length)
                                // console.log(mt.length)
                                for (let j = http.length; j >= 0; j--) {
                                    for (let l = mt.length; l >= 0; l--) {
                                        if (mt[l] == http[j]) {
                                            http2.splice(j, 1)

                                        }
                                    }
                                }
                                possibleMethod.innerHTML = http2
                                impossibleMethod.style.backgroundColor = "rgb(224 0 0 / 22%)"
                                possibleMethod.style.backgroundColor = "rgb(37 224 0 / 22%)"
                                id.innerText = array[i].id
                                tr.onclick = function () {
                                    insertPath(event);
                                }

                                tr.append(id, path, possibleMethod, impossibleMethod)
                                tbody.append(tr)

                            }


                        }
                    },
                    error: (e) => {
                        console.log("통신 실패", e);
                    }
                })
            }

            // path 입력하기
            function showPathSearchModal() {
                $("#resourceModal").modal('hide')
                $("#searchPathModal").modal('show')
                document.getElementById("defaultUri").innerText = document.getElementById("path").name + " /" // 기본 uri
                showAllMethod()
            }


            // path 신규 등록 시
            function newInsertPath(uri) {

                $("#searchPathModal").modal('hide')

                document.getElementById("path").value = uri
                showAllMethod()

                let pathid = document.getElementById("pathid")
                pathid.value = "0" // 선택한 uri id , 새로 생성 시 0

                $("#resourceModal").modal("show")

            }

            function tabHidden() {
                let tabList = document.getElementById("myTabContent").children
                let tabHeaderList = document.getElementById("myTab").children

                for (let k = 0; k < tabList.length; k++) {
                    tabList[k].className = "tab-pane fade"
                    tabHeaderList[k].style.display = "none"
                }
            }

            // 모든 method 버튼 show all
            function showAllMethod() {
                let buttonList = $("#nav-tab button[type=button]");

                for (let i = 0; i < buttonList.length; i++) {
                    buttonList[i].style.display = 'block'
                }
            }
        </script>
    </th:block>
</head>
<body>
<div layout:fragment="content">
    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- Sidebar -->
        <!-- Begin Page Content -->
        <div class="container-fluid">
            <!-- Page Heading -->
            <div class="d-flex justify-content-between mb-2">
                <div class="d-flex">
                    <h1 class="h3 mb-2 text-gray-800" th:text="${api.name}"></h1>
                    <h3>&nbsp(&nbsp</h3>
                    <h3 th:text="${api.context}"></h3>
                    <h3>&nbsp)</h3>
                </div>
                <div>
                    <button class="btn btn-dark btn-sm" onclick="location.reload()">전체 리소스 갱신</button>
                </div>

            </div>
            <div class="d-flex mb-3">
                <div class="w-100 d-flex">
                    <select class="form-select mr-4" onchange="selectChange(this)" id="show" style="width: 35%;">
                        <option value="resource" selected>리소스</option>
                        <option value="tag">태그</option>
                    </select>
                    <!--                     <button type="button" class="btn btn-secondary" id="pick" data-bs-toggle="modal"></button>-->
                    <button type="button" class="btn btn-secondary" data-bs-toggle="modal"
                            data-bs-target="#resourceModal" onclick="tabHidden()">
                        + 리소스 추가
                    </button>
                    <!-- Button trigger modal -->
                </div>
                <div class="d-flex w-100 justify-content-end">
                    <!--                    <select class="form-select" style="width: 30%;">-->
                    <!--                        <option selected>전체</option>-->
                    <!--                        <option>develop</option>-->
                    <!--                        <option>service</option>-->
                    <!--                        <option>deprecate</option>-->
                    <!--                        <option>out_of_service</option>-->
                    <!--                    </select>-->
                    <form class="d-flex" style="width: 70%">
                        <input type="text" class="form-control m-0" placeholder="검색어를 입력해주세요.">
                        <button type="submit" class="btn btn-dark btn-sm" style=" width: 25%">
                            <i class="fa-solid fa-magnifying-glass" style="color: #ffffff;"></i> 조회
                        </button>
                    </form>
                </div>
            </div>
            <!-- 리소스 정보들 -->
            <div class="card shadow mb-4">
                <div class="accordion accordion-flush" id="accordionFlushExample">
                    <div class="d-flex justify-content-center" th:if="${#lists.size(resourceIndex) == 0}">
                        <h5>리소스가 존재하지 않습니다.</h5>
                    </div>
                    <div class="accordion-item"
                         th:each="index:${resourceIndex}"
                         th:if="${#lists.size(resourceIndex) != 0} and ${index.garbage==false}">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                th:data-bs-target="'#flush-collapse'+${index.id}" aria-expanded="false"
                                th:aria-controls="'flush-collapse'+${index.id}">
                            <div class="btn-control">
                                <div>
                                    &nbsp;&nbsp;&nbsp;|&nbsp; <span th:text="${index.uri}"></span> </span>
                                </div>
                                <div>
                                    <!--                                    <i class="fa-solid fa-arrows-rotate renew" data-toggle="tooltip"-->
                                    <!--                                       title="리소스 갱신"-->
                                    <!--                                       onclick="location.href='#'; event.stopPropagation()"></i>-->
                                    <!-- <div id="tooltipRenew">리소스 갱신</div>-->
                                    <i class="fa-solid fa-file-word doc" data-toggle="tooltip"
                                       title="Swagger 문서"
                                       onclick="location.href='#'; event.stopPropagation()"></i>
                                    <!-- <div id="tooltipDoc">Swagger 문서</div>-->
                                    <i onclick="location.href='#'" style="cursor: pointer;" data-toggle="tooltip"
                                       title="Swagger UI"
                                       class="fa-solid fa-globe ui"></i>
                                    <!-- <div id="tooltipUI">Swagger UI</div>-->
                                    <i th:resourceId="${index.id}" onclick="goTrashResource(this)"
                                       sec:authorize="hasAnyRole('ADMIN','MYDATA','PROVIDER')"
                                       style="cursor: pointer;"
                                       data-toggle="tooltip"
                                       title="삭제"
                                       class="fa-solid fa-trash-can delete"></i>
                                </div>
                            </div>
                        </button>
                        <div th:id="'flush-collapse'+${index.id}" class="accordion-collapse collapse"
                             th:aria-labelledby="'flush-heading'+${index.id}"
                             data-bs-parent="#accordionFlushExample">
                            <div class="accordion-body">
                                <table class="table table-hover demo02">
                                    <thead class="thead-dark">
                                    <tr>
                                        <th scope="col">Method</th>
                                        <th scope="col">URI</th>
                                        <th scope="col">Summary</th>
                                        <th scope="col">Security</th>
                                        <th scope="col">Operation ID</th>
                                        <th scope="col">Version</th>
                                        <!--                                        <th scope="col">Status</th>-->
                                        <th scope="col">else</th>
                                    </tr>
                                    </thead>
                                    <tbody class="tbody">
                                    <tr th:onclick="detailModal([[${detail.id}]])" style="cursor: pointer"
                                        id="trDetailId"
                                        th:each="detail:${apiDetailsDTOList}"
                                        th:if="${index.id == detail.resourceId} and ${detail.trash == false} and ${#lists.size(apiDetailsDTOList)!=0}">
                                        <td th:text="${detail?.method}" data-bs-toggle="modal"
                                            data-bs-target="#detailModal"></td>
                                        <td th:text="${detail?.uri}" data-bs-toggle="modal"
                                            data-bs-target="#detailModal"></td>
                                        <td th:text="${detail?.summary}" data-bs-toggle="modal"
                                            data-bs-target="#detailModal"></td>
                                        <td th:text="${detail?.security}" data-bs-toggle="modal"
                                            data-bs-target="#detailModal"></td>
                                        <td th:text="${detail?.operationId}" data-bs-toggle="modal"
                                            data-bs-target="#detailModal"></td>
                                        <td th:text="${detail?.version}" data-bs-toggle="modal"
                                            data-bs-target="#detailModal"></td>

                                        <!--                                        <td>-->
                                        <!--                                            <select class="form-select">-->
                                        <!--                                                <option selected>develop</option>-->
                                        <!--                                                <option value="1">service</option>-->
                                        <!--                                                <option value="2">deprecate</option>-->
                                        <!--                                                <option value="3">out_of_service</option>-->
                                        <!--                                            </select>-->
                                        <!--                                        </td>-->
                                        <td>
                                            <i onclick="location.href='#'" style="cursor: pointer;"
                                               data-toggle="tooltip"
                                               title="Swagger 문서"
                                               class="fa-solid fa-file-word doc"></i>
                                            <i onclick="location.href='#'" style="cursor: pointer;"
                                               data-toggle="tooltip"
                                               title="Swagger UI"
                                               class="fa-solid fa-globe ui"></i>
                                            <i sec:authorize="hasAnyRole('ADMIN','MYDATA','PROVIDER')"
                                               th:detailId="${detail.id}" th:detailName="${detail?.summary}"
                                               onclick="goTrash(this)" style="cursor: pointer;"
                                               data-toggle="tooltip"
                                               title="삭제"
                                               class="fa-solid fa-trash-can delete"></i>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--  리소스 정보 끝   -->
            <div class="w-100 d-flex justify-content-center">
                <ul class="pagination">
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Previous">
                            <span aria-hidden="true">«</span>
                        </a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#" aria-label="Next">
                            <span aria-hidden="true">»</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

    </div>
    <!-- /.container-fluid -->

    <!-- tag Modal-->
    <div class="modal fade" id="tagModal" tabindex="-1" aria-labelledby="tagModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tagModalLabel">태그 추가</h5>
                    <div class="" style="cursor: pointer" data-bs-dismiss="modal"
                    ><i class="fa-solid fa-xmark" style="color: #7f7f7f;"></i></div>
                </div>
                <div class="modal-body">
                    <table class="table">
                        <tbody>
                        <tr>
                            <td>이름</td>
                            <td><input type="text" class="form-control" id="tagName" placeholder="이름"></td>
                        </tr>
                        <tr>
                            <td>설명</td>
                            <td><input type="text" class="form-control" id="tagExplain" placeholder="설명"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">닫기
                    </button>
                    <button type="button" class="btn btn-dark btn-sm" onclick="addTag()">등록</button>
                </div>
            </div>
        </div>
    </div>

    <!-- details info Modal start 리소스 추-->
    <div class="modal fade" id="resourceModal" tabindex="-1" role="dialog" data-bs-backdrop="static"
         data-bs-keyboard="false"
         aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">리소스 추가</h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="overflow-x: hidden">
                    <div style="display: flex; flex-direction: column">
                        <div style="height: 20%">
                        </div>
                        <div style="height: 80%">
                            <table class="table"
                                   style="width: -webkit-fill-available;border-right-width: thin; border-left-width: thin;">
                                <tbody>

                                <tr>
                                    <td class="resourceTable" style="background-color: #0000001c">서버 URL</td>
                                    <td><input class="input-group rounded" type="text"
                                               placeholder="  http://localhost:8080/api/" id="url"
                                    ></td>
                                </tr>
                                <tr>

                                    <td class="resourceTable" style="background-color: #0000001c">Path</td>

                                    <td style="display: flex;">
                                        <!--                                        <div class="mt-2 mr-2" th:text="${api.context+'/'}"-->
                                        <!--                                             style="font-size: 18px"></div>-->
                                        <input style="height: 46px;align-self: center;"
                                               class="input-group rounded pl-3 p-2" type="text"
                                               id="path" disabled
                                               th:name="${api.context}">
                                        <input type="hidden" value="0" id="pathid">
                                        <input type="hidden" th:value="${api.id}" id="apiId">
                                        <input type="hidden" id="resourceId">
                                        <button type="button" class="btn btn-danger"
                                                style="font-size: 16px;height: 46px;width: 130px;margin-left: 1%;"
                                                onclick="showPathSearchModal()">
                                            입력하기
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class=" resourceTable" style="background-color: #0000001c;">Method
                                    </td>
                                    <td>
                                        <nav>
                                            <div class="nav d-flex flex-row justify-content-start" id="nav-tab"
                                                 role="tablist">
                                                <button type="button" class="btn btn-outline-danger mr-3"
                                                        data-toggle="tab"
                                                        href="#nav-get" role="tab" aria-controls="nav-get"
                                                        aria-selected="true" onclick="methodSwitch(this)">GET
                                                </button>
                                                <button type="button" class="btn btn-outline-warning mr-3 hover"
                                                        data-toggle="tab"
                                                        href="#nav-post" role="tab" aria-controls="nav-post"
                                                        aria-selected="false" onclick="methodSwitch(this)">POST
                                                </button>
                                                <button type="button" class="btn btn-outline-success mr-3"
                                                        data-toggle="tab"
                                                        href="#nav-put" role="tab" aria-controls="nav-put"
                                                        aria-selected="false" onclick="methodSwitch(this)">PUT
                                                </button>
                                                <button type="button" class="btn btn-outline-dark mr-3"
                                                        data-toggle="tab"
                                                        href="#nav-delete" role="tab" aria-controls="nav-delete"
                                                        aria-selected="false" onclick="methodSwitch(this)">DELETE
                                                </button>
                                            </div>
                                        </nav>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <ul class="nav d-flex flex-row justify-content-start" id="myTab" role="tablist">
                        <li class="nav-item" style="display: none" id="get">
                            <a class="redBtn nav-link" id="get-tab" data-toggle="tab" href="#get-content" role="tab"
                               aria-selected="true">GET</a>
                        </li>
                        <li class="nav-item " style="display: none" id="post">
                            <a class="yellowBtn nav-link " id="post-tab" data-toggle="tab" href="#post-content"
                               role="tab"
                               aria-selected="false">POST</a>
                        </li>
                        <li class="nav-item " style="display: none" id="put">
                            <a class="nav-link greenBtn" id="put-tab" data-toggle="tab" href="#put-content" role="tab"
                               aria-selected="false">PUT</a>
                        </li>
                        <li class="nav-item " style="display: none" id="delete">
                            <a class="nav-link blackBtn" id="delete-tab" data-toggle="tab" href="#delete-content"
                               role="tab"
                               aria-selected="false">DELETE</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade" id="get-content" role="tabpanel" style="text-align: center;">
                            <div style="display: flex" class="mt-3">
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">operationId</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  get-v1-insu"
                                           id="getOperationId"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">요약</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  get-v1-insu"
                                           id="getSummary"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                            </div>
                            <!--           태그선택박스                 -->
                            <div class="multiselect mt-4 ml-2 mr-2" style="margin-left: 1.5% !important;">
                                <div class="selectBox">
                                    <select name="getTagBox" id="getTagBox">
                                        <option value=""> -- 태그 선택 --</option>
                                        <option th:each="list : ${tagList}" th:value="${list?.id}"
                                                th:utext="${list?.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <!--           인증선택박스                 -->
                            <div class="authorizationSelect ml-2 mr-2 mb-4 mt-3"
                                 style="margin-left: 1.5% !important;">
                                <!--                                <div class="selectBox" onclick="showSecondSelectBox()">-->
                                <!--                                    <select>-->
                                <!--                                        <option>인증</option>-->
                                <!--                                    </select>-->
                                <!--                                    <div class="overSelect"></div>-->
                                <!--                                </div>-->
                                <!--                                <div class="authorizationSelectBox">-->
                                <!--                                    <label for="getApiKey">-->
                                <!--                                        <input type="checkbox" id="getApiKey"/>APIKey(APIKEY)</label>-->
                                <!--                                    <label for="getBearer">-->
                                <!--                                        <input type="checkbox" id="getBearer"/>Bearer(APIKEY)</label>-->
                                <!--                                </div>-->
                            </div>

                            <!-- GET 파라미터/응답 선택 시작-->
                            <div class="d-flex flex-column">
                                <div class="d-flex align-items-start">
                                    <div class="nav nav-pills me-3 mb-2 flex-row" id="v-pills-tab"
                                         role="tablist"
                                         aria-orientation="vertical">

                                        <button class="nav-link active" id="v-pills-get-parameter-tab"
                                                data-bs-toggle="pill"
                                                data-bs-target="#v-pills-get-parameter" type="button" role="tab"
                                                aria-controls="v-pills-get-parameter" aria-selected="true">파라미터
                                        </button>
                                        <button class="nav-link" id="v-pills-get-response-tab" data-bs-toggle="pill"
                                                data-bs-target="#v-pills-get-response" type="button" role="tab"
                                                aria-controls="v-pills-get-response" aria-selected="false">응답
                                        </button>
                                    </div>
                                </div>
                                <div class="tab-content w-100" id="v-pills-tabContent">
                                    <div class="tab-pane fade show active" id="v-pills-get-parameter" role="tabpanel"
                                         aria-labelledby="v-pills-get-parameter-tab">
                                        <table class="table align-items-center">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">이름</th>
                                                <th scope="col">전송방법</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">필수여부</th>
                                                <th scope="col">타입</th>
                                                <th scope="col">샘플</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="getParameterItemBody">
                                            <!--                리소스 추가 페이지 - 파라미터 추가 모달의 추가 버튼 누르면 파라미터 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="get-parameter" data-bs-dismiss="modal"
                                                            onclick="paramModalShow(this)">파라미터 추가
                                                    </button>

                                                </td>
                                            </tr>
                                            </tfoot>
                                        </table>
                                    </div>

                                    <div class="tab-pane fade" id="v-pills-get-response" role="tabpanel"
                                         aria-labelledby="v-pills-get-response-tab">

                                        <table class="table">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">응답코드</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">Content-Type</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="getResCodeItemBody">
                                            <!--                리소스 추가 페이지 - 응답코드 추가 모달의 추가 버튼 누르면 응답코드 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="get-resCode" data-bs-dismiss="modal"
                                                            onclick="resCodeModalShow(this)">응답코드 추가
                                                    </button>

                                                </td>
                                            </tr>

                                            </tfoot>
                                        </table>
                                    </div>

                                </div>
                            </div>
                            <!-- GET 파라미터/응답 선택 끝-->
                        </div>
                        <!--post tab 시작-->
                        <div class="tab-pane fade" id="post-content" role="tabpanel">
                            <div style="display: flex" class="mt-3">
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">operationId</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  post-v1-insu"
                                           id="postOperationId"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">요약</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  post-v1-insu"
                                           id="postSummary"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                            </div>
                            <!--           태그선택박스                 -->
                            <div class="multiselect mt-4 ml-2 mr-2" style="margin-left: 1.5% !important;">
                                <div class="selectBox">
                                    <select name="postTagBox" id="postTagBox">
                                        <option value=""> -- 태그 선택 --</option>
                                        <option th:each="list : ${tagList}" th:value="${list?.id}"
                                                th:utext="${list?.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <!--           인증선택박스                 -->
                            <div class="authorizationSelect ml-2 mr-2 mb-4 mt-3"
                                 style="margin-left: 1.5% !important;">
                                <!--                                <div class="selectBox" onclick="showSecondSelectBox()">-->
                                <!--                                    <select>-->
                                <!--                                        <option>인증</option>-->
                                <!--                                    </select>-->
                                <!--                                    <div class="overSelect"></div>-->
                                <!--                                </div>-->
                                <!--                                <div class="authorizationSelectBox">-->
                                <!--                                    <label for="postApiKey">-->
                                <!--                                        <input type="checkbox" id="postApiKey"/>APIKey(APIKEY)</label>-->
                                <!--                                    <label for="postBearer">-->
                                <!--                                        <input type="checkbox" id="postBearer"/>Bearer(APIKEY)</label>-->
                                <!--                                </div>-->
                            </div>


                            <!-- POST 파라미터/응답 선택 시작-->
                            <div class="d-flex flex-column">
                                <div class="d-flex align-items-start">
                                    <div class="nav nav-pills me-3 mb-2 flex-row" role="tablist"
                                         aria-orientation="vertical">

                                        <button class="nav-link active" id="v-pills-post-parameter-tab"
                                                data-bs-toggle="pill"
                                                data-bs-target="#v-pills-post-parameter" type="button" role="tab"
                                                aria-controls="v-pills-post-parameter" aria-selected="true">파라미터
                                        </button>
                                        <button class="nav-link ml-2" id="v-pills-post-response-tab"
                                                data-bs-toggle="pill"
                                                data-bs-target="#v-pills-post-response" type="button" role="tab"
                                                aria-controls="v-pills-post-response" aria-selected="false">응답
                                        </button>

                                        <button class="nav-link ml-2" id="v-pills-post-reqData-tab"
                                                data-bs-toggle="pill"
                                                data-bs-target="#v-pills-post-reqData" type="button" role="tab"
                                                aria-controls="v-pills-post-reqData" aria-selected="false">요청데이터
                                        </button>
                                    </div>
                                </div>
                                <div class="tab-content w-100">
                                    <div class="tab-pane fade show active" id="v-pills-post-parameter" role="tabpanel"
                                         aria-labelledby="v-pills-post-parameter-tab">
                                        <table class="table align-items-center">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">이름</th>
                                                <th scope="col">전송방법</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">필수여부</th>
                                                <th scope="col">타입</th>
                                                <th scope="col">샘플</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="postParameterItemBody">
                                            <!--                리소스 추가 페이지 - 파라미터 추가 모달의 추가 버튼 누르면 파라미터 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="post-parameter" data-bs-dismiss="modal"
                                                            onclick="paramModalShow(this)">파라미터 추가
                                                    </button>

                                                </td>
                                            </tr>
                                            </tfoot>
                                        </table>
                                    </div>

                                    <div class="tab-pane fade" id="v-pills-post-response" role="tabpanel"
                                         aria-labelledby="v-pills-post-response-tab">
                                        <table class="table">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">응답코드</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">Content-Type</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="postResCodeItemBody">
                                            <!--                리소스 추가 페이지 - 응답코드 추가 모달의 추가 버튼 누르면 응답코드 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="post-resCode" data-bs-dismiss="modal"
                                                            onclick="resCodeModalShow(this)">응답코드 추가
                                                    </button>

                                                </td>
                                            </tr>

                                            </tfoot>
                                        </table>
                                    </div>
                                    <!--POST 요청 데이터 탭 -->
                                    <div class="tab-pane fade" id="v-pills-post-reqData" role="tabpanel"
                                         aria-labelledby="v-pills-post-reqData-tab">
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th scope="col"><h5 class="ml-1">Context-Type</h5> | application / json
                                                </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <th scope="row">
                                                       <textarea id="postReqData" placeholder="예시를 입력해주세요"
                                                                 style="height: 150px; width: -webkit-fill-available; padding: 15px"></textarea>
                                                </th>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- POST 파라미터/응답 선택 끝-->
                        </div>
                        <!--PUT tab 시작-->
                        <div class="tab-pane fade" id="put-content" role="tabpanel" a>
                            <div style="display: flex" class="mt-3">
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">operationId</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  put-v1-insu"
                                           id="putOperationId"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">요약</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  put-v1-insu"
                                           id="putSummary"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                            </div>
                            <!--           태그선택박스                 -->
                            <div class="multiselect mt-4 ml-2 mr-2" style="margin-left: 1.5% !important;">
                                <div class="selectBox">
                                    <select name="putTagBox" id="putTagBox">
                                        <option value=""> -- 태그 선택 --</option>
                                        <option th:each="list : ${tagList}" th:value="${list?.id}"
                                                th:utext="${list?.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <!--           인증선택박스                 -->
                            <div class="authorizationSelect ml-2 mr-2 mb-4 mt-3"
                                 style="margin-left: 1.5% !important;">
                                <!--                                <div class="selectBox">-->
                                <!--                                    <select name="TagBox" id="TagBox">-->
                                <!--                                        <option value=""> &#45;&#45; 태그 선택 &#45;&#45;</option>-->
                                <!--                                        <option th:each="list : ${tagList}" th:value="${list?.id}"-->
                                <!--                                                th:utext="${list?.name}">-->
                                <!--                                        </option>-->
                                <!--                                    </select>-->
                                <!--                                </div>-->
                            </div>
                            <!-- POST 파라미터/응답 선택 시작-->
                            <div class="d-flex flex-column">
                                <div class="d-flex align-items-start">
                                    <div class="nav nav-pills me-3 mb-2 flex-row" role="tablist"
                                         aria-orientation="vertical">

                                        <button class="nav-link active" id="v-pills-put-parameter-tab"
                                                data-bs-toggle="pill"
                                                data-bs-target="#v-pills-put-parameter" type="button" role="tab"
                                                aria-controls="v-pills-put-parameter" aria-selected="true">파라미터
                                        </button>
                                        <button class="nav-link ml-2" id="v-pills-put-response-tab"
                                                data-bs-toggle="pill"
                                                data-bs-target="#v-pills-put-response" type="button" role="tab"
                                                aria-controls="v-pills-put-response" aria-selected="false">응답
                                        </button>
                                        <button class="nav-link ml-2" id="v-pills-put-reqData-tab" data-bs-toggle="pill"
                                                data-bs-target="#v-pills-put-reqData" type="button" role="tab"
                                                aria-controls="v-pills-put-reqData" aria-selected="false">요청데이터
                                        </button>
                                    </div>
                                </div>
                                <div class="tab-content w-100">
                                    <div class="tab-pane fade show active" id="v-pills-put-parameter" role="tabpanel"
                                         aria-labelledby="v-pills-put-parameter-tab">
                                        <table class="table align-items-center">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">이름</th>
                                                <th scope="col">전송방법</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">필수여부</th>
                                                <th scope="col">타입</th>
                                                <th scope="col">샘플</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="putParameterItemBody">
                                            <!--                리소스 추가 페이지 - 파라미터 추가 모달의 추가 버튼 누르면 파라미터 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="put-parameter" data-bs-dismiss="modal"
                                                            onclick="paramModalShow(this)">파라미터 추가
                                                    </button>

                                                </td>
                                            </tr>
                                            </tfoot>
                                        </table>
                                    </div>

                                    <div class="tab-pane fade" id="v-pills-put-response" role="tabpanel"
                                         aria-labelledby="v-pills-put-response-tab">

                                        <table class="table">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">응답코드</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">Content-Type</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="putResCodeItemBody">
                                            <!--                리소스 추가 페이지 - 응답코드 추가 모달의 추가 버튼 누르면 응답코드 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="put-resCode" data-bs-dismiss="modal"
                                                            onclick="resCodeModalShow(this)">응답코드 추가
                                                    </button>

                                                </td>
                                            </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                    <!--PUT 요청 데이터 탭 -->
                                    <div class="tab-pane fade" id="v-pills-put-reqData" role="tabpanel"
                                         aria-labelledby="v-pills-post-reqData-tab">
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th scope="col"><h5 class="ml-1">Context-Type</h5> | application / json
                                                </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <th scope="row">
                                                       <textarea id="putReqData" placeholder="예시를 입력해주세요"
                                                                 style="height: 150px; width: -webkit-fill-available; padding: 15px"></textarea>
                                                </th>

                                            </tr>

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- PUT 파라미터/응답 선택 끝-->
                        </div>
                        <!--DELETE tab 시작 -->
                        <div class="tab-pane fade" id="delete-content" role="tabpanel">
                            <div style="display: flex" class="mt-3">
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">operationId</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  delete-v1-insu"
                                           id="deleteOperationId"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                                <div class="col-6">
                                    <h6 class="col-2" style="text-align: left;">요약</h6>
                                    <input class="col"
                                           type="text"
                                           placeholder="  delete-v1-insu"
                                           id="deleteSummary"
                                           style="height: 44px;border-radius: 7px;">
                                </div>
                            </div>
                            <!--           태그선택박스                 -->
                            <div class="multiselect mt-4 ml-2 mr-2" style="margin-left: 1.5% !important;">
                                <div class="selectBox">
                                    <select name="deleteTagBox">
                                        <option value=""> -- 태그 선택 --</option>
                                        <option th:each="list : ${tagList}" th:value="${list?.id}"
                                                th:utext="${list?.name}">
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <!--           인증선택박스                 -->
                            <div class="authorizationSelect ml-2 mr-2 mb-4 mt-3"
                                 style="margin-left: 1.5% !important;">
                                <!--                                <div class="selectBox">-->
                                <!--                                    <select name="tagBox">-->
                                <!--                                        <option value=""> &#45;&#45; 태그 선택 &#45;&#45;</option>-->
                                <!--                                        <option th:each="list : ${tagList}" th:value="${list?.id}"-->
                                <!--                                                th:utext="${list?.name}">-->
                                <!--                                        </option>-->
                                <!--                                    </select>-->
                                <!--                                </div>-->
                            </div>
                            <!-- DELETE 파라미터/응답 선택 시작-->
                            <div class="d-flex flex-column flex-row">
                                <div class="d-flex align-items-start">
                                    <div class="nav nav-pills me-3 mb-2 flex-row" role="tablist"
                                         aria-orientation="vertical">

                                        <button class="nav-link active" id="v-pills-delete-parameter-tab"
                                                data-bs-toggle="pill"
                                                data-bs-target="#v-pills-delete-parameter" type="button" role="tab"
                                                aria-controls="v-pills-delete-parameter" aria-selected="true">파라미터
                                        </button>
                                        <button class="nav-link" id="v-pills-delete-response-tab" data-bs-toggle="pill"
                                                data-bs-target="#v-pills-delete-response" type="button" role="tab"
                                                aria-controls="v-pills-delete-response" aria-selected="false">응답
                                        </button>
                                    </div>
                                </div>
                                <div class="tab-content w-100">
                                    <div class="tab-pane fade show active" id="v-pills-delete-parameter" role="tabpanel"
                                         aria-labelledby="v-pills-delete-parameter-tab">
                                        <table class="table align-items-center">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">이름</th>
                                                <th scope="col">전송방법</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">필수여부</th>
                                                <th scope="col">타입</th>
                                                <th scope="col">샘플</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="deleteParameterItemBody">
                                            <!--                리소스 추가 페이지 - 파라미터 추가 모달의 추가 버튼 누르면 파라미터 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="delete-parameter" data-bs-dismiss="modal"
                                                            onclick="paramModalShow(this)">파라미터 추가
                                                    </button>

                                                </td>
                                            </tr>
                                            </tfoot>
                                        </table>
                                    </div>

                                    <div class="tab-pane fade" id="v-pills-delete-response" role="tabpanel"
                                         aria-labelledby="v-pills-delete-response-tab">
                                        <table class="table">
                                            <thead class="thead-light">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">응답코드</th>
                                                <th scope="col">설명</th>
                                                <th scope="col">Content-Type</th>
                                                <th scope="col"></th>
                                            </tr>
                                            </thead>
                                            <tbody id="deleteResCodeItemBody">
                                            <!--                리소스 추가 페이지 - 응답코드 추가 모달의 추가 버튼 누르면 응답코드 정보 들어가는 곳               -->

                                            </tbody>
                                            <tfoot style="text-align:right;">
                                            <tr>
                                                <td colspan="12" style="border-bottom-width: inherit !important;">
                                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal"
                                                            id="delete-resCode" data-bs-dismiss="modal"
                                                            onclick="resCodeModalShow(this)">응답코드 추가
                                                    </button>

                                                </td>
                                            </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- DELETE 파라미터/응답 선택 끝-->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                            onclick="insertResource()">저장
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- 파라미터 추가 버튼   -->
    <div class="modal fade" id="insertParameterModal" tabindex="-1" role="dialog"
         aria-labelledby="exampleModalLabel2"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel2">파라미터 추가</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="parameter-name" class="col-form-label">이름 * </label>
                        <input type="text" class="form-control" id="parameter-name">
                    </div>
                    <div class="row flex-nowrap">
                        <div class="mb-3 col-6">
                            <label for="transferMethod" class="col-form-label">전송방법</label>
                            <select class="form-control" id="transferMethod">
                                <option value="queryString" selected="selected">Query String</option>
                                <option value="pathVariable">Path Variable</option>
                                <option value="header">Header</option>
                            </select>
                        </div>
                        <div class="mb-3 col-6">
                            <label for="required" class="col-form-label">필수여부</label>
                            <select class="form-control" id="required">
                                <option value="true" selected="selected">필수</option>
                                <option value="false">필수 아님</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="explanation" class="col-form-label">설명 * </label>
                        <input type="text" class="form-control" id="explanation">
                    </div>
                    <div class="row flex-nowrap">
                        <div class="mb-3 col-6">
                            <label for="type" class="col-form-label">타입</label>
                            <select class="form-control" id="type">
                                <option value="String" selected="selected">String</option>
                                <option value="integer">integer</option>
                                <option value="boolean">boolean</option>
                            </select>
                        </div>
                        <div class="mb-3 col-6">
                            <label for="sample" class="col-form-label">예제</label>
                            <input type="text" class="form-control" id="sample">
                        </div>
                    </div>
                </div>
                <div class="modal-footer param">
                    <button type="button" class="btn btn-secondary" data-bs-toggle="modal"
                            data-bs-target="#resourceModal">취소
                    </button>
                    <button type="button" class="btn btn-primary" onclick="insertParameter(this)">추가</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 응답코드 추가 모달 -->
    <div class="modal fade" id="insertResCodeModal" tabindex="-1" role="dialog"
         aria-labelledby="resCodeModalShowLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="resCodeModalShowLabel">응답코드 추가</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="parameter-name" class="col-form-label">코드번호 * </label>
                        <input type="text" class="form-control" id="code-name">
                    </div>
                    <div class="mb-3">
                        <label for="explanation" class="col-form-label">설명 * </label>
                        <input type="text" class="form-control" id="code-explanation">
                    </div>
                    <div class="row flex-nowrap">
                        <div class="mb-3 col-9">
                            <label for="type" class="col-form-label">타입</label>
                            <select class="form-control" id="contentType">
                                <option value="application/json" selected="selected">application/json</option>
                            </select>
                        </div>
                        <div class="mb-3 col-3" style="place-self: end">
                            <button type="button" data-bs-toggle="modal" data-bs-target="#insertResCodeJson"
                                    class="btn btn-dark">필드추가
                            </button>
                        </div>
                    </div>
                    <div>
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">KEY</th>
                                <th scope="col">VALUE</th>
                                <th scope="col">TYPE</th>
                            </tr>
                            </thead>
                            <tbody id="appendJsonResCode">

                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer code">
                    <button type="button" class="btn btn-secondary" data-bs-toggle="modal"
                            data-bs-target="#resourceModal">취소
                    </button>
                    <button type="button" class="btn btn-primary" onclick="insertResCode(this)">추가</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 응답코드 Json 추가 모달 -->
    <div class="modal fade" id="insertResCodeJson" tabindex="-1" role="dialog"
         aria-labelledby="insertResCodeJsonModalShowLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="insertResCodeJsonModalShowLabel">필드추가</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="parameter-name" class="col-form-label">KEY * </label>
                        <input type="text" class="form-control" id="json_key">
                    </div>
                    <div class="mb-3">
                        <label for="explanation" class="col-form-label">VALUE * </label>
                        <input type="text" class="form-control" id="json_value">
                    </div>
                    <div class="row flex-nowrap">
                        <div class="mb-3 col-9">
                            <label for="type" class="col-form-label">타입</label>
                            <select class="form-control" id="json_type">
                                <option value="String" selected="selected">String</option>
                                <option value="Integer">Integer</option>
                                <option value="Boolean">Boolean</option>
                                <option value="Number">Number</option>
                                <option value="Object">Object</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer code">
                    <button type="button" class="btn btn-secondary" data-bs-toggle="modal"
                            data-bs-target="#insertResCodeModal">취소
                    </button>
                    <button type="button" class="btn btn-primary" onclick="insertResJson(this)">추가</button>
                </div>
            </div>
        </div>
    </div>

    <!--path 검색 모달-->
    <div class="modal fade" id="searchPathModal" tabindex="-1" role="dialog"
         aria-labelledby="searchPathModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="searchPathModalLabel">path 검색</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <label for="parameter-name" class="col-form-label">path * </label>
                    <div class="row mb-3 align-items-center flex-nowrap">
                        <div class="col-3" style="margin-left: 1%;" id="defaultUri"></div>
                        <input type="text" class="col-8 form-control" onkeyup="searchPath(this)" id="pathSearchBar"
                               placeholder="uri를 입력해주세요"
                               style="width: 68%;"
                               autofocus>

                    </div>
                    <div style="overflow-x: auto">
                        <table class="table table-hover flex-nowrap">
                            <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">path</th>
                                <th scope="col">작성 가능</th>
                                <th scope="col">작성 불가능</th>
                            </tr>
                            </thead>
                            <tbody id="searchPathTbody">
                            <tr>
                                <th colspan="4">
                                    검색어를 입력해주세요
                                </th>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer code">
                    <button type="button" class="btn btn-secondary" data-bs-toggle="modal"
                            data-bs-target="#resourceModal">취소
                    </button>

                </div>
            </div>

        </div>
    </div>
    <!--  디테일 정보 모달  -->
    <div class="modal fade tab" id="detailModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header"
                     style="align-items: flex-start !important; flex-direction: column !important;">
                    <div class="d-flex justify-content-between align-items-center w-100">
                        <h4 id="methodUrl"></h4>
                        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <span class="text-muted" id="summary"></span>
                </div>
                <div class="modal-body">
                    <div class="w-100 p-2">
                        <div class="border mb-3">
                            <div class="border-bottom">
                                <h5 class="text-muted p-3 m-0">태그</h5>
                            </div>
                            <div class="p-4">
                                <!--                                <h6 style="background-color: #1c294e; display:inline-block;padding: 15px;color: white;border-radius: 18px">-->
                                <!--                                    금융업권금융업권</h6>-->
                                <div class="badge badge-dark" style="height: 30px;"><span
                                        style="vertical-align: -webkit-baseline-middle;">금융업권금융업권</span></div>
                                <div class="badge badge-dark" style="height: 30px;"><span
                                        style="vertical-align: -webkit-baseline-middle;">후라토식당</span></div>

                            </div>
                        </div>
                        <div class="border mb-3">

                            <div class="border-bottom">
                                <h5 class="text-muted p-3 m-0">Routing</h5>
                            </div>
                            <div class="p-4">
                                <table class="table table-borderless">
                                    <tbody>
                                    <tr>
                                        <td class="tdHead">
                                            서버 URL
                                        </td>
                                        <td class="tdContent" id="dModal_url">

                                        </td>
                                    </tr>
                                    <tr class="borderTop">
                                        <td class="tdHead">
                                            Method
                                        </td>
                                        <td class="tdContent" id="dModal_method">

                                        </td>
                                    </tr>
                                    <tr class="borderTop">
                                        <td class="tdHead">
                                            OperationId
                                        </td>
                                        <td class="tdContent" id="dModal_operationId">

                                        </td>
                                    </tr>
                                    <tr class="borderTop">
                                        <td class="tdHead">
                                            요약
                                        </td>
                                        <td class="tdContent" id="dModal_summary">

                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="border mb-3">
                            <div class="border-bottom">
                                <h5 class="text-muted p-3 m-0">인증</h5>
                            </div>
                            <div class="p-4">
                                <!--                                <h6 style="background-color: #1c294e; display:inline-block;padding: 15px;color: white;border-radius: 18px">-->
                                <!--                                    금융업권금융업권</h6>-->
                                <div class="badge badge-dark" style="height: 30px;"><span
                                        style="vertical-align: -webkit-baseline-middle;">Bearer</span></div>
                            </div>
                        </div>
                        <div class="border mb-3">
                            <div class="border-bottom">
                                <h5 class="text-muted p-3 m-0">파라미터</h5>
                            </div>
                            <div class="p-4">
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th scope="col">이름</th>
                                        <th scope="col">전송방법</th>
                                        <th scope="col">설명</th>
                                        <th scope="col">필수여부</th>
                                        <th scope="col">타입</th>
                                        <th scope="col">샘플</th>
                                        <th scope="col"></th>
                                    </tr>
                                    </thead>
                                    <tbody class="table-group-divider" id="paramTbody">
                                    <tr>
                                        <td id="dModal_parameter_Name"></td>
                                        <td>
                                            <select class="form-select" aria-label="Default select example">
                                                <option value="1">Header</option>
                                                <option value="2">Path Variable</option>
                                                <option value="3">Query String</option>
                                            </select>
                                        </td>
                                        <td id="dModal_parameter_explanation"></td>
                                        <td id="dModal_parameter_required">
                                            <select class="form-select" aria-label="Default select example">
                                                <option value="1">필수</option>
                                                <option value="2">필수아님</option>
                                            </select>
                                        </td>
                                        <td>
                                            <select class="form-select" aria-label="Default select example">
                                                <option value="1">String</option>
                                                <option value="2">Integer</option>
                                                <option value="3">boolean</option>
                                                <option value="4">number</option>
                                            </select>
                                        </td>
                                        <td id="dModal_parameter_sample"></td>
                                        <td><i class="fa-solid fa-trash-can"
                                               style="color: #797a7c;font-weight: 100;"></i></td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="border mb-3">
                            <div class="border-bottom">
                                <h5 class="text-muted p-3 m-0">요청 Body</h5>
                            </div>
                            <div class="p-4">
                                <table class="table">
                                    <thead>
                                    <tr style="text-align: -webkit-center;">
                                        <th scope="col">Content-Type</th>
                                        <th scope="col">Body</th>
                                        <th scope="col">비고</th>
                                    </tr>
                                    </thead>
                                    <tbody class="table-group-divider">
                                    <tr style="text-align: center">
                                        <td style="vertical-align: middle;">application/json; charset=UTF-8</td>
                                        <td>
                                            <table class="table">
                                                <thead style="background-color: #1c294e21">
                                                <tr>
                                                    <th scope="col">키sssss</th>
                                                    <th scope="col">타입</th>
                                                    <th scope="col">샘플</th>
                                                    <th scope="col">비고</th>
                                                </tr>
                                                </thead>
                                                <tbody class="table-group-divider" id="resBodyTable">

                                                </tbody>
                                            </table>
                                        </td>
                                        <td><i class="fa-solid fa-trash-can"
                                               style="color: #797a7c;font-weight: 100;" onclick="removeResBody(this)"></i>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="border mb-3">
                            <div class="border-bottom">
                                <h5 class="text-muted p-3 m-0">응답</h5>
                            </div>
                            <div class="accordion" id="accordionExample">
                                <!--                                /* 응답코드 아코디언 item 시작 */-->

                                <!--                                /* 응답코드 아코디어 item 끝 */-->
                            </div>

                        </div>

                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        닫기
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--detail 모달 끝-->

</div>
<!-- End of Main Content -->

</body>

</html>